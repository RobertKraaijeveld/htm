<!DOCTYPE html>
<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="content-type" />
<title>Home</title>
</head>
<body class="lift:content_id=main">
	<div id="main" class="lift:surround?with=default;at=content" ng-app="htm-tournaments">
		<h2>Tournaments</h2>
    <div ng-controller="TournamentsCtrl">
      <div class="list-group">
        <a ng-repeat="tournament in tournaments" href="/tournaments/view/{{tournament.identifier}}" class="list-group-item">
          <h4 class="list-group-item-heading">
            <htm-tournament-label tournament="tournament"></htm-tournament-label>
            {{tournament.name}}
            <htm-participants-bar count="{{tournament.participants.length}}"/>
          </h4>
        </a>
      </div>
			<div class="panel-group">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" href="#new-tournament-panel" ng-click="openNewTournament()">
							   <span class="glyphicon glyphicon-plus"></span>
							   New tournament
							 </a>
						</h4>
					</div>
					<div class="panel-collapse collapse" id="new-tournament-panel">
						<div class="panel-body">
							<form id="newTournament" class="form">
								<div class="form-group">
									<label for="name">Name</label>
                  <input id="name" type="text" class="form-control" ng-model="newTournament.name" focus-on="createNew"/>
								</div>
								<div class="row">
									<div class="col-xs-8 form-group">
										<label for="identifier">
                      Identifier
                      <div class="btn-group">
                        <label class="btn btn-success btn-xs" ng-model="newTournament.customIdentifier" btn-radio="false" uncheckable>Default</label>
                        <label class="btn btn-success btn-xs" ng-model="newTournament.customIdentifier" btn-radio="true" uncheckable>Custom</label>
                      </div>
                    </label>
                    <p ng-hide="newTournament.customIdentifier" class="form-control-static">{{newTournament.defaultIdentifier()}}</p>
                    <input ng-show="newTournament.customIdentifier" id="identifier" type="text" class="form-control" ng-model="newTournament.identifier" focus-on="identifier" />
									</div>
									<div class="col-xs-4 form-group">
										<label for="label">
                      Label
                      <div class="btn-group">
                        <label class="btn btn-success btn-xs" ng-model="newTournament.customMemo" btn-radio="false" uncheckable>Default</label>
                        <label class="btn btn-success btn-xs" ng-model="newTournament.customMemo" btn-radio="true" uncheckable>Custom</label>
                      </div>
                    </label>
                    <p ng-hide="newTournament.customMemo" class="form-control-static">{{newTournament.defaultMemo()}}</p>
                    <input ng-show="newTournament.customMemo" id="label" type="text" class="form-control" ng-model="newTournament.memo" focus-on="memo" />
									</div>
								</div>
								<button class="btn btn-primary" ng-click="save()">Save</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
    <script src="/static/javascript/lib/angular.min.js"></script>
    <script src="/static/javascript/lib/angular-animate.min.js"></script>
    <script src="/static/javascript/lib/angular-resource.min.js"></script>
    <script src="/static/javascript/lib/angular-ui-bootstrap-tpls.min.js"></script>
    <script src="/static/javascript/lib/select2.min.js"></script>
    <script src="/static/javascript/lib/angular-ui-select2.js"></script>
    <script src="/static/javascript/lib/angular-ui-utils.min.js"></script>
    <script src="/static/javascript/lib/loading-bar.min.js"></script>
    <script src="/static/javascript/lib/tinycolor.js"></script>
    <script src="/static/javascript/htm.js"></script></body>
    <script src="/static/javascript/tournaments.js"></script></body>
	</div>
</body>
</html>

