<!--tournament-list.html-->
<div class="col-md-12">
	<h2>Tournaments</h2>
		<div class="list-group">
			<a class="list-group-item" href="#tournament/{{tournament.identifier}}"  ng-repeat="tournament in tournaments" >
				<h4 class="list-group-item-heading">
					<span class="label" title="{{tournament.name}}" style="background-color: {{color(tournament)}};">{{tournament.memo}}</span>
					<span>{{tournament.name}}</span>
					<span class="badge pull-right">{{tournament.participants.length}}</span>
				</h4>
			</a>
			<a class="list-group-item" href="" ng-click="showAddNewTournament()" ng-hide="addNewTournamentVisible" >
			<h4 class="">
				<span class="glyphicon glyphicon-plus" ></span>
				Add Tournament
			</h4>
		</a>
		<div class="panel panel-default" ng-show="addNewTournamentVisible">
			<div class="panel-heading">
				<h4 class="">
					<span class="glyphicon glyphicon-plus" ></span>
					Add Tournament
				</h4>
			</div>
			<div class="panel-body">
				<form class="form" name="form" novalidate>
					<div class="form-group">
						<label for="name">
							Name
						</label>
					<input ng-model="newTournament.name" class="form-control" type="text" id="name" required="" name="name" htm-focus-on="addNewTournamentVisible">
						<!-- TODO: Validation-->
					    <div ng-show="form.$submitted || form.name.$touched">
      						<div ng-show="form.name.$error.required">Please enter a tournament name</div>
    					</div>
					</div>
					<div class="row">
						<div class="col-xs-8 form-group">
							<label for="identifier">
								Identifier
								<div class="btn-group">
									<label class="btn btn-success btn-xs" ng-model="newTournament.customIdentifier" btn-radio="false">Default</label>
									<label class="btn btn-success btn-xs" ng-model="newTournament.customIdentifier" btn-radio="true">Custom</label>
								</div>
							</label>
							<p class="form-control-static" ng-hide="newTournament.customIdentifier">{{newTournament.identifier()}}</p>
							<!--TODO: With Angular 1.3.x comes ng-model-options="{ getterSetter: true }" directive which means we don't have to use the private variable but can use the getter/setter-->
							<input ng-model="newTournament._identifier" class="form-control" type="text" id="identifier" ng-show="newTournament.customIdentifier" name="identifier" required="" htm-focus-on="newTournament.customIdentifier">
							<!-- TODO: Validation-->	
							<div ng-show="form.$submitted">
								<div ng-show="form.identifier.$error.required">Please enter a tournament identifier</div>
								<div ng-show="form.identifier.$error.exists">A tournament with the same identifier already exists</div>
							</div>

						</div>
						<div class="col-xs-4 form-group">
							<label for="label">
								Label
								<div class="btn-group">
									<label class="btn btn-success btn-xs" ng-model="newTournament.customMemo" btn-radio="false" >Default</label>
									<label class="btn btn-success btn-xs" ng-model="newTournament.customMemo" btn-radio="true">Custom</label>
								</div>
							</label>
							<p class="form-control-static" ng-hide="newTournament.customMemo">{{newTournament.memo()}}</p>
							<!--TODO: With Angular 1.3.x comes ng-model-options="{ getterSetter: true }" directive which means we don't have to use the private variable
							but can use the getter/setter -->
							<input ng-model="newTournament._memo" class="form-control" type="text" id="label" ng-show="newTournament.customMemo" htm-focus-on="newTournament.customMemo">
						</div>
					</div>
					<button ng-click="save()" class="btn btn-primary">Save</button>
				</form>
			</div>
		</div>
	</div>
</div>
